<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SIM Info Portal — Made by E3-HACKER</title>
<style>
  /* Global */
  body, html { margin:0; padding:0; height:100%; font-family: 'Courier New', Courier, monospace; background:#0f0f0f; color:#00ffea; overflow:hidden; }
  #bgCanvas { position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; }

  /* Overlay */
  #overlay {
    position:fixed; inset:0;
    background: rgba(0,0,0,0.96);
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    text-align:center; z-index:1000; padding:24px; transition:opacity .45s;
  }
  #overlay h1 { font-size:2.0rem; margin:0 0 14px; color:#00ffea; text-shadow:0 0 10px #00ffea; }
  .join-row { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-bottom:14px; }
  .join-btn {
    padding:12px 22px; border-radius:10px; text-decoration:none; font-weight:700;
    border:none; cursor:pointer; box-shadow:0 0 15px rgba(0,255,234,0.12);
    transition:transform .18s, box-shadow .18s, opacity .18s;
    background: linear-gradient(90deg,#00ffea,#00c4b0);
    color:#000;
  }
  .join-btn:hover { transform:scale(1.05); box-shadow:0 0 30px #00ffea; }
  .join-btn.secondary { background:transparent; color:#00ffea; border:1px solid rgba(0,255,234,.18); box-shadow:none; }

  #continueBtn {
    margin-top:8px; padding:10px 18px; border-radius:8px; border:none; cursor:pointer;
    background:#071313;color:#00ffea;font-weight:700; box-shadow:0 0 18px rgba(0,255,234,0.12);
    opacity:.45; pointer-events:none;
  }
  #continueBtn.enabled { opacity:1; pointer-events:auto; }

  /* Main content */
  #content { display:none; z-index:10; width:92%; max-width:720px; margin:32px auto; padding:18px; box-sizing:border-box; }
  h2 { margin:0 0 12px; }
  .controls { display:flex; gap:12px; margin-bottom:16px; }
  input { flex:1; padding:12px; border-radius:8px; border:none; background:rgba(0,255,234,0.04); color:#00ffea; box-shadow: inset 0 0 10px rgba(0,255,234,0.03); }
  .search-btn { padding:12px 18px; border-radius:8px; border:none; background:#00ffea; color:#000; font-weight:700; cursor:pointer; box-shadow:0 0 18px #00ffea; }

  /* Cards */
  #result { display:flex; flex-direction:column; gap:14px; margin-top:10px; }
  .card {
    background: linear-gradient(180deg, rgba(0,255,234,0.04), rgba(0,255,234,0.02));
    border-radius:12px; padding:14px; box-shadow:0 0 18px rgba(0,255,234,0.06); transition:transform .18s;
  }
  .card:hover { transform:translateY(-4px); box-shadow:0 0 30px rgba(0,255,234,0.12); }
  .card h3 { margin:0 0 6px; color:#00ffd6; font-size:1rem; }
  .card p { margin:0; color:#dffdfa; word-break:break-word; }

  /* Footer credit */
  #credit {
    position:fixed; right:12px; bottom:12px; font-size:12px; color:#00ffea; opacity:.9;
    background: rgba(0,0,0,0.45); padding:6px 10px; border-radius:8px; box-shadow:0 0 10px rgba(0,255,234,.06);
  }

  /* small screens */
  @media (max-width:480px){
    .join-row{flex-direction:column;}
    #overlay h1{font-size:1.5rem;}
    .join-btn{width:100%;}
  }
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>

<!-- Overlay: requires both channel + group join before enabling continue -->
<div id="overlay" aria-hidden="false">
  <h1>Join WhatsApp Channel & Group to access SIM info</h1>

  <div class="join-row">
    <a id="channelBtn" class="join-btn" href="https://chat.whatsapp.com/YourChannelLink" target="_blank" rel="noopener noreferrer">Join WhatsApp Channel</a>
    <a id="groupBtn" class="join-btn" href="https://chat.whatsapp.com/YourGroupLink" target="_blank" rel="noopener noreferrer">Join WhatsApp Group</a>
    <button id="checkBtn" class="join-btn secondary" type="button">I joined (click to mark)</button>
  </div>

  <div>
    <button id="continueBtn" type="button">Continue to Website</button>
  </div>

  <p style="margin-top:14px; color:rgba(0,255,234,0.55); font-size:.95rem;">
    (Click both join links — then tap <strong>“I joined”</strong> — the Continue button will enable.)
  </p>
</div>

<!-- Main content -->
<div id="content" aria-hidden="true">
  <h2>SIM Information Lookup</h2>
  <div class="controls">
    <input id="numberInput" type="text" placeholder="Enter SIM Number (e.g. 03XXXXXXXXX)" />
    <button class="search-btn" onclick="fetchData()">Search</button>
  </div>

  <div id="result"></div>
</div>

<!-- Credit -->
<div id="credit">Made by E3-HACKER</div>

<script>
/* --- Overlay logic: require both joins --- */
const channelBtn = document.getElementById('channelBtn');
const groupBtn = document.getElementById('groupBtn');
const checkBtn = document.getElementById('checkBtn');
const continueBtn = document.getElementById('continueBtn');
const overlay = document.getElementById('overlay');
const content = document.getElementById('content');

let clickedChannel = false;
let clickedGroup = false;
let clickedConfirm = false;

/* track actual clicks on the join links (they open new tab) */
channelBtn.addEventListener('click', () => { clickedChannel = true; updateContinueState(); });
groupBtn.addEventListener('click',   () => { clickedGroup = true;   updateContinueState(); });

/* user presses "I joined" after actually joining — this helps when popup blockers or delays occur */
checkBtn.addEventListener('click', () => {
  clickedConfirm = true;
  updateContinueState();
  // small visual feedback
  checkBtn.textContent = 'Marked as joined ✓';
  checkBtn.style.opacity = '0.85';
  setTimeout(()=> { checkBtn.style.opacity = '1'; }, 300);
});

/* enable continue only once both channel & group marked (either by clicking links or marking) */
function updateContinueState(){
  // allow either: actual link clicks OR user confirmation, but require both (channel + group).
  const channelOk = clickedChannel || clickedConfirm;
  const groupOk   = clickedGroup   || clickedConfirm;
  if(channelOk && groupOk){
    continueBtn.classList.add('enabled');
  }
}

/* continue hides overlay and shows content */
continueBtn.addEventListener('click', () => {
  if(!continueBtn.classList.contains('enabled')) {
    // small shake animation
    continueBtn.animate([{ transform:'translateX(0)' }, { transform:'translateX(-8px)' }, { transform:'translateX(8px)' }, { transform:'translateX(0)' }], { duration:300 });
    return;
  }
  overlay.style.opacity = '0';
  setTimeout(()=> { overlay.style.display = 'none'; }, 450);
  content.style.display = 'block';
  content.setAttribute('aria-hidden','false');
});

/* --- Fetch SIM data (uses public CORS proxy as example) --- */
async function fetchData(){
  const number = document.getElementById('numberInput').value.trim();
  const resultDiv = document.getElementById('result');
  resultDiv.innerHTML = '';

  if(!number){
    resultDiv.innerHTML = `<div class="card"><h3>Error</h3><p>Please enter a SIM number.</p></div>`;
    return;
  }

  resultDiv.innerHTML = `<div class="card"><h3>Loading</h3><p>Fetching data for ${escapeHtml(number)} …</p></div>`;

  try{
    const proxyUrl = 'https://api.allorigins.win/raw?url=';
    const apiUrl = encodeURIComponent(`https://fam-official.serv00.net/api/database.php?number=${encodeURIComponent(number)}`);
    const resp = await fetch(proxyUrl + apiUrl);
    if(!resp.ok) throw new Error(`${resp.status} ${resp.statusText}`);

    const text = await resp.text();

    // try parse JSON, otherwise show raw
    let data;
    try { data = JSON.parse(text); } catch(e) { data = null; }

    resultDiv.innerHTML = '';
    if(data && typeof data === 'object'){
      // show common fields with priority (name, address, cnic/cnsc)
      const preferred = ['name','Name','owner','Owner','address','Address','cnic','CNIC','cnsc','CNSC','sim','Sim'];
      // create cards for prioritized fields first
      const used = new Set();
      preferred.forEach(k => {
        if(data[k] !== undefined){
          resultDiv.innerHTML += buildCard(k, data[k]);
          used.add(k);
        }
      });
      // remaining keys
      for(const k in data){
        if(!used.has(k)){
          resultDiv.innerHTML += buildCard(k, data[k]);
        }
      }
    } else {
      resultDiv.innerHTML = buildCard('Raw Response', text);
    }

  } catch(err){
    resultDiv.innerHTML = `<div class="card"><h3>Error fetching</h3><p>${escapeHtml(String(err))}</p></div>`;
  }
}

/* helper to build card HTML safely */
function buildCard(title, value){
  const v = (value === null || value === undefined) ? '' : escapeHtml(String(value));
  return `<div class="card"><h3>${escapeHtml(title)}</h3><p>${v}</p></div>`;
}

/* minimal escape to avoid accidental HTML injection */
function escapeHtml(s){
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

/* --- Animated particle background (simple) --- */
const canvas = document.getElementById('bgCanvas');
const ctx = canvas.getContext('2d');
function resizeCanvas(){ canvas.width = innerWidth; canvas.height = innerHeight; }
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

const particles = [];
const P = Math.floor((canvas.width * canvas.height) / 60000); // scale with screen
for(let i=0;i<Math.max(80, P);i++){
  particles.push({
    x: Math.random()*canvas.width,
    y: Math.random()*canvas.height,
    r: Math.random()*1.6 + 0.6,
    vx: (Math.random()-0.5)*0.4,
    vy: (Math.random()-0.5)*0.4,
    alpha: 0.6 + Math.random()*0.4
  });
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // subtle gradient overlay
  const g = ctx.createLinearGradient(0,0,canvas.width,canvas.height);
  g.addColorStop(0,'rgba(0,20,20,0.06)');
  g.addColorStop(1,'rgba(0,0,0,0.06)');
  ctx.fillStyle = g; ctx.fillRect(0,0,canvas.width,canvas.height);

  // draw particles
  ctx.globalCompositeOperation = 'lighter';
  particles.forEach(p=>{
    ctx.beginPath();
    ctx.fillStyle = `rgba(0,255,234,${p.alpha})`;
    ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
    ctx.fill();
    // move
    p.x += p.vx; p.y += p.vy;
    if(p.x < -10) p.x = canvas.width+10;
    if(p.x > canvas.width+10) p.x = -10;
    if(p.y < -10) p.y = canvas.height+10;
    if(p.y > canvas.height+10) p.y = -10;
  });

  // connect close particles with subtle lines
  for(let i=0;i<particles.length;i++){
    for(let j=i+1;j<particles.length;j++){
      const a = particles[i], b = particles[j];
      const dx = a.x - b.x, dy = a.y - b.y;
      const d = Math.sqrt(dx*dx + dy*dy);
      if(d < 90){
        ctx.strokeStyle = `rgba(0,255,234,${(0.12*(90-d)/90).toFixed(3)})`;
        ctx.lineWidth = 0.6;
        ctx.beginPath(); ctx.moveTo(a.x,a.y); ctx.lineTo(b.x,b.y); ctx.stroke();
      }
    }
  }

  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
